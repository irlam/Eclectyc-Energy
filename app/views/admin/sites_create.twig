{% extends "base.twig" %}

{% block title %}Create Site{% endblock %}

{% block content %}
<section class="card">
    <div class="card-header">
        <h2>Create New Site</h2>
        <a class="btn btn-tertiary" href="/admin/sites">Back to sites</a>
    </div>

    <form method="post" action="/admin/sites" class="form">
        <div class="form-group">
            <label for="name">Site Name <span class="required">*</span></label>
            <input type="text" id="name" name="name" required minlength="2" maxlength="255" placeholder="e.g., Main Office Building">
        </div>

        <div class="form-group">
            <label for="company_id">Company <span class="required">*</span></label>
            <select id="company_id" name="company_id" required>
                <option value="">Select a company...</option>
                {% for company in companies %}
                    <option value="{{ company.id }}">{{ company.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="region_id">Region</label>
            <select id="region_id" name="region_id">
                <option value="">Select a region...</option>
                {% for region in regions %}
                    <option value="{{ region.id }}">{{ region.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="site_type">Site Type <span class="required">*</span></label>
            <select id="site_type" name="site_type" required>
                {% for value, label in site_types %}
                    <option value="{{ value }}">{{ label }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="address">Address <span class="required">*</span></label>
            <textarea id="address" name="address" required rows="3" minlength="5" placeholder="Full street address"></textarea>
        </div>

        <div class="form-group">
            <label for="postcode">Postcode</label>
            <input type="text" id="postcode" name="postcode" maxlength="10" placeholder="e.g., SW1A 1AA">
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="latitude">Latitude</label>
                <input type="number" id="latitude" name="latitude" step="0.00000001" min="-90" max="90" placeholder="e.g., 51.5074">
            </div>

            <div class="form-group">
                <label for="longitude">Longitude</label>
                <input type="number" id="longitude" name="longitude" step="0.00000001" min="-180" max="180" placeholder="e.g., -0.1278">
            </div>
        </div>

        <div class="form-group">
            <label for="floor_area">Floor Area (mÂ²)</label>
            <input type="number" id="floor_area" name="floor_area" step="0.01" min="0" placeholder="e.g., 1500.50">
        </div>

        <div class="form-group">
            <label>
                <input type="checkbox" name="is_active" value="1" checked>
                Active
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Create Site</button>
            <a href="/admin/sites" class="btn btn-tertiary">Cancel</a>
        </div>
    </form>
</section>
{% endblock %}
