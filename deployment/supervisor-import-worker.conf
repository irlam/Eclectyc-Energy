# Supervisor configuration for Eclectyc Energy Import Worker
# Copy to: /etc/supervisor/conf.d/eclectyc-import-worker.conf
# Then run: sudo supervisorctl reread && sudo supervisorctl update

[program:eclectyc-import-worker]
command=/usr/bin/php /path/to/eclectyc-energy/scripts/process_import_jobs.php
directory=/path/to/eclectyc-energy
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/path/to/eclectyc-energy/logs/import_worker.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stopwaitsecs=60
priority=999

# Environment variables (optional - can also use .env file)
# environment=DB_HOST="localhost",DB_DATABASE="eclectyc",DB_USERNAME="user",DB_PASSWORD="password"
